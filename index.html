<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Davetiye</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        :root{ --gold1:#d4af37; --gold2:#f6e27f; --gold3:#b8962e; --bg1:#fbf7f1; --env-main:#cfc6e8; --env-dark:#b7aed9; --env-light:#ebe6f7; }
        *{margin:0;padding:0;box-sizing:border-box;}
        body{ min-height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; font-family:"Times New Roman", serif; background:var(--bg1); overflow:hidden; position: relative; }

        .flower-bg {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("1000023316.jpg");
            background-repeat: no-repeat;
            background-position: center;
            background-size: cover;
            z-index: 1;
            pointer-events: none;
        }

        /* Zarfın hafifçe yüzme animasyonu */
        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        .wrapper{ 
            width:360px; position:relative; z-index:10; 
            display: flex; flex-direction: column; align-items: center;
            animation: floating 3s ease-in-out infinite;
        } 
        
        .envelope{ width:360px; height:230px; position:relative; perspective:1600px; cursor:pointer; filter:drop-shadow(0 20px 40px rgba(0,0,0,0.15)); transition: all 0.5s ease;}
        .envelope-back{position:absolute; inset:0; background:var(--env-main); border-radius:6px; z-index:1;}
        .envelope-bottom{position:absolute; bottom:0; width:100%; height:50%; background:var(--env-main); border-radius:0 0 6px 6px; z-index:3; border-top: 1px solid rgba(0,0,0,0.05);}
        .envelope-left{position:absolute; left:0; width:50%; height:100%; background:var(--env-light); clip-path:polygon(0 0,0 100%,100% 50%); z-index:3;}
        .envelope-right{position:absolute; right:0; width:50%; height:100%; background:var(--env-light); clip-path:polygon(100% 0,0 50%,100% 100%); z-index:3;}
        .envelope-flap{position:absolute; inset:0; background:linear-gradient(to bottom,var(--env-dark),var(--env-main)); clip-path:polygon(0 0,50% 55%,100% 0); transform-origin:top; transition:transform 0.8s cubic-bezier(0.4, 0, 0.2, 1); z-index:6;}
        
        .seal{
            position:absolute; top:50%; left:50%; width:70px; height:70px; 
            transform:translate(-50%,-50%); border-radius:50%; 
            background:radial-gradient(circle at top left,var(--gold2),var(--gold1),var(--gold3)); 
            box-shadow:inset 0 0 8px rgba(255,255,255,0.6),0 8px 15px rgba(0,0,0,0.2); 
            z-index:7; display:flex; justify-content:center; align-items:center; color:white; font-size:24px;
            transition: all 0.5s ease;
        }
        
        .card{ 
            position:absolute; top:5%; left:5%; width:90%; height:95%; 
            background:white; border:1px solid var(--gold1); border-radius:4px; 
            padding:15px; text-align:center; display:flex; flex-direction:column; 
            justify-content:space-between; align-items:center; 
            transition: all 1s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            z-index:2; opacity: 0.8;
        }
        
        h2 { font-family: 'Great Vibes', cursive; font-size: 32px; color: var(--gold3); }
        h2 span { margin: 0 10px; font-size: 24px; opacity: 0.8; }

        .davetiye-foto { width: 80px; height: 80px; object-fit: cover; border-radius: 50%; border: 2px solid var(--gold1); margin: 5px 0; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        
        /* AÇIK HALİ */
        .envelope.open .envelope-flap{ transform:rotateX(180deg); z-index: 2; }
        .envelope.open .card{ 
            transform: translateY(-160px) scale(1.05); 
            box-shadow: 0 30px 60px rgba(0,0,0,0.2); 
            z-index:8; opacity: 1;
        }
        .envelope.open .seal{ transform: translate(-50%, -50%) scale(0); opacity: 0; }
        .envelope.open { filter: drop-shadow(0 40px 60px rgba(0,0,0,0.25)); }

        .info{font-size: 13px; color: #444; line-height: 1.4; width: 100%;}
        .info strong { font-size: 14px; display: block; margin: 5px 0; color: #000; letter-spacing: 1px;}
        
        #countdown { font-size: 12px; font-weight: bold; color: var(--gold3); padding-top: 8px; border-top: 1px solid #eee; width: 100%; letter-spacing: 1px; }

        .maps-btn {
            background: linear-gradient(to right, var(--gold3), var(--gold1));
            color: white; text-decoration: none; font-size: 14px; font-weight: bold;
            padding: 12px 50px; border-radius: 30px;
            box-shadow: 0 10px 20px rgba(212, 175, 55, 0.3);
            transition: all 0.5s ease;
            z-index: 15; cursor: pointer;
            opacity: 0; transform: translateY(20px); /* Başlangıçta gizli */
            margin-top: 20px;
        }
        .envelope.open ~ .maps-btn { opacity: 1; transform: translateY(0); } /* Zarf açılınca belirir */
        .maps-btn:active { transform: scale(0.95); }
    </style>
</head>
<body>

    <div class="flower-bg"></div>

    <div class="wrapper">
        <div class="envelope" id="envelope">
            <div class="envelope-back"></div>
            <div class="card">
                <h2>Eftal <span>&</span> M. Fatih</h2>
                <img src="1000023273.jpg" alt="Foto" class="davetiye-foto">
                <div class="info">
                    Birlikteliğimizi sonsuzluğa taşıyacağımız bu günde<br>sizleri aramızda görmekten mutluluk duyarız.
                    <strong>11 OCAK 2026 – 19:00</strong>
                    <div class="location">Haliliye / Şanlıurfa</div>
                </div>
                <div id="countdown"></div>
            </div>
            <div class="envelope-left"></div><div class="envelope-right"></div><div class="envelope-bottom"></div><div class="envelope-flap"></div>
            <div class="seal">❤</div>
        </div>

        <a href="https://www.google.com/maps/dir/?api=1&destination=37.163105,38.821438" target="_blank" class="maps-btn">KONUMU GÖRÜNTÜLE</a>
    </div>

    <audio id="bgMusic" preload="auto"><source src="stay.mp3" type="audio/mpeg"></audio>

<script>
    const envelope = document.getElementById("envelope");
    const music = document.getElementById("bgMusic");
    const wrapper = document.querySelector(".wrapper");

    envelope.addEventListener("click", () => {
        envelope.classList.toggle("open");
        
        if (envelope.classList.contains("open")) {
            // Zarf açılınca yüzme animasyonunu durdur ki kart sabit dursun
            wrapper.style.animation = "none";
            
            music.currentTime = 34; music.volume = 0;
            music.play().catch(e => console.log("Müzik çalınamadı."));
            let vol = 0;
            let fade = setInterval(() => {
                if (vol < 0.7) { vol += 0.05; music.volume = vol; }
                else clearInterval(fade);
            }, 100);
        } else {
            music.pause();
            wrapper.style.animation = "floating 3s ease-in-out infinite";
        }
    });

    const target = new Date("Jan 11, 2026 19:00:00").getTime();
    function updateCountdown() {
        const now = new Date().getTime();
        const diff = target - now;
        if (diff < 0) {
            document.getElementById("countdown").innerHTML = "MUTLULUKLAR!";
            return;
        }
        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const s = Math.floor((diff % (1000 * 60)) / 1000);
        document.getElementById("countdown").innerHTML = `${d}G ${h}S ${m}D ${s}SN`;
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();
</script>
</body>
</html>
